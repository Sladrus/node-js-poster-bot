require('dotenv').config();
const cron = require('node-cron');

const TelegramBot = require('node-telegram-bot-api');

const bot = new TelegramBot(process.env.BOT_TOKEN, { polling: true });

const postList = [
  {
    text: '<b>üöÄ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É –æ—Ç —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è –∏–∑ –°–®–ê —Å –ø–æ–º–æ—â—å—é MoneyPort</b>\n\n1. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –Ω–∞—à–µ–π –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –≤–Ω–æ—Å–∏—Ç–µ –∏—Ö –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Deel, Shipmoney –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ —ç—Ç–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—é.\n\n2. –í–∞—à–∏ –¥–µ–Ω—å–≥–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ –Ω–∞—à —Å—á—ë—Ç, –º—ã –±–µ—Ä—ë–º —Å–≤–æ—é –∫–æ–º–∏—Å—Å–∏—é –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–¥–∞—á–∏: –Ω–∞–ª–∏—á–Ω—ã–º–∏, –Ω–∞ –∫–∞—Ä—Ç—É –∏–ª–∏ –Ω–∞ —Ä–∞—Å—á—ë—Ç–Ω—ã–π —Å—á–µ—Ç –ò–ü.\n\n3. –ú—ã –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤–∞–º –¥–µ–Ω—å–≥–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ‚Äî –∑–∞ IT-—É—Å–ª—É–≥–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä.\n\n<b><a href="https://t.me/+O-mTSTjHXdU0NTJi">–ü–æ–¥—Ä–æ–±–Ω–µ–µ —É–∑–Ω–∞–≤–∞–π—Ç–µ –≤ Telegram-–∫–∞–Ω–∞–ª–µ MoneyPort</a></b>',
    photoPath: './mp_photo_1.jpg',
  },
  {
    text: '<b>MoneyPort –≤—ã–¥–∞–µ—Ç –Ω–∞–ª–∏—á–Ω—ã–µ –≤ 46 —Å—Ç—Ä–∞–Ω–∞—Ö</b>\n\nüí∞ –û–∫–æ–ª–æ 30% –≤—Å–µ—Ö –Ω–∞—à–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π ‚Äî —ç—Ç–æ –≤—ã–¥–∞—á–∞ –Ω–∞–ª–∏—á–Ω—ã—Ö. –°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç—Ä–∞–Ω—ã ‚Äî –ò—Å–ø–∞–Ω–∏—è, –ò—Ç–∞–ª–∏—è, –°–µ—Ä–±–∏—è, –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è, –°–®–ê –∏ –û–ê–≠.\n\n–í –∫–∞–∫–∏—Ö –≥–æ—Ä–æ–¥–∞—Ö –∏ —Å—Ç—Ä–∞–Ω–∞—Ö –º—ã –º–æ–∂–µ–º –≤—ã–¥–∞—Ç—å –Ω–∞–ª–∏—á–Ω—ã–µ, —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ–º –≤ <a href="https://t.me/+n-VDjxVrtRthMWFi">Telegram –∫–∞–Ω–∞–ª–µ</a>',
    photoPath: './mp_photo_2.jpg',
  },
  {
    text: '<b>üßæ –ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –∏–Ω–≤–æ–π—Å c –ø–æ–º–æ—â—å—é MoneyPort</b>\n\n–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç\n\n1. –ü—Ä–æ–¥–∞–≤–µ—Ü –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω–≤–æ–π—Å –≤ —Å–≤–æ–µ–π –≤–∞–ª—é—Ç–µ.\n\n2. –í—ã –ø—Ä–∏—Å—ã–ª–∞–µ—Ç–µ –≤ MoneyPort –∏–Ω–≤–æ–π—Å —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–∏.\n\n3. –ú—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–º–ø–∞–Ω–∏—é –∏ –ø–æ–¥–±–∏—Ä–∞–µ–º —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –Ω—É–∂–Ω–æ–π –≤–∞–ª—é—Ç–æ–π –∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.\n\n4. –í—ã –≤–Ω–æ—Å–∏—Ç–µ —Ä—É–±–ª–∏ –Ω–∞ —Å—á—ë—Ç –≤ –†–æ—Å—Å–∏–∏, –∞ –º—ã –æ–ø–ª–∞—á–∏–≤–∞–µ–º –∏–Ω–≤–æ–π—Å —Å–æ —Å–≤–æ–µ–≥–æ –∑–∞—Ä—É–±–µ–∂–Ω–æ–≥–æ —é—Ä–ª–∏—Ü–∞ –≤ –Ω—É–∂–Ω–æ–π –≤–∞–ª—é—Ç–µ.\n\n<blockquote>–ö–æ–º–∏—Å—Å–∏–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –∏–Ω–≤–æ–π—Å—É –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ü–æ—ç—Ç–æ–º—É –Ω–∞—à–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç –∏—Ö –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ.</blockquote>\n\n<b><a href="https://t.me/+thNO0eEeswwyZThi">–ü–æ–¥—Ä–æ–±–Ω–µ–µ —É–∑–Ω–∞–≤–∞–π—Ç–µ –≤ Telegram-–∫–∞–Ω–∞–ª–µ MoneyPort</a></b>',
    photoPath: './mp_photo_3.jpg',
  },
  {
    text: '<b>üöò –ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –º–∞—à–∏–Ω—É –≤ –Ø–ø–æ–Ω–∏–∏, –ö–æ—Ä–µ–∏, –°–®–ê —Å –ø–æ–º–æ—â—å—é MoneyPort</b>\n\n–ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∫—É–ø–∫–∞ –∞–≤—Ç–æ —Å –∞—É–∫—Ü–∏–æ–Ω–∞\n\n1. –í—ã –ø—Ä–∏—Å—ã–ª–∞–µ—Ç–µ –Ω–∞–º –∏–Ω–≤–æ–π—Å –Ω–∞ –æ–ø–ª–∞—Ç—É –∞–≤—Ç–æ –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç–µ –¥–µ–Ω—å–≥–∏ –Ω–∞ –Ω–∞—à —Å—á—ë—Ç.\n\n2. –ú—ã –≤—ã–¥–∞–µ–º –ø–ª–∞—Ç—ë–∂–Ω–æ–µ –ø–æ—Ä—É—á–µ–Ω–∏–µ —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è.\n\n3. –ü–µ—Ä–µ–≤–æ–¥–∏–º –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å—á—ë—Ç –∞—É–∫—Ü–∏–æ–Ω–∞ –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞.\n\n4. –í –æ–ø–∏—Å–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–º–µ—Ä –∏–Ω–≤–æ–π—Å–∞ –∏ VIN –∞–≤—Ç–æ–º–æ–±–∏–ª—è. –ù–∏–∫–∞–∫–∏–µ –¥–æ–≥–æ–≤–æ—Ä—ã –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.\n\n5. –ê–≤—Ç–æ–º–æ–±–∏–ª—å –æ–ø–ª–∞—á–µ–Ω.\n\n<b><a href="https://t.me/+4JHUu-cegyAwOGJi">–ü–æ–¥—Ä–æ–±–Ω–µ–µ —É–∑–Ω–∞–≤–∞–π—Ç–µ –≤ Telegram-–∫–∞–Ω–∞–ª–µ MoneyPort</a></b>',
    photoPath: './mp_photo_4.jpg',
  },
  {
    text: 'üïä –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏–∑ –†–æ—Å—Å–∏–∏ –≤ –ï–≤—Ä–æ–ø—É, –°–®–ê, –ö–∏—Ç–∞–π –∏ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ —Å—á–µ—Ç–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü.\n\n<b>MoneyPort ‚Äî  –Ω–∞–¥–µ–∂–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ SWIFT-–ø–µ—Ä–µ–≤–æ–¥–∞–º</b>\n\n<b>–ß—Ç–æ –º–æ–∂–µ—Ç MoneyPort:</b>\n\n‚Üí –í—ã–¥–∞—á–∞ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ 46 —Å—Ç—Ä–∞–Ω–∞—Ö –º–∏—Ä–∞\n\n‚Üí –ü—Ä–∏–µ–º –ø–ª–∞—Ç–µ–∂–µ–π —Å –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π –≤ —Ä—É–±–ª–∏ –∏–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É\n\n‚Üí –û–ø–ª–∞—Ç—ã –ø–æ –∏–Ω–≤–æ–π—Å–∞–º –∑–∞ —Ç–æ–≤–∞—Ä—ã –∏ —É—Å–ª—É–≥–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∑–∞ –º–∞—à–∏–Ω—ã, –æ–±—É—á–µ–Ω–∏–µ, –ª–µ—á–µ–Ω–∏–µ, –∑–∞–ø—á–∞—Å—Ç–∏, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏ –¥—Ä—É–≥–æ–µ\n\n‚Üí –ü–µ—Ä–µ–≤–æ–¥—ã —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –ª–∏—Ü–∞–º –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É –≤ —Å–∏—Å—Ç–µ–º–∞—Ö: Zelle, PayPal, Wise, Revolut, N26, BBVA, Cash app, Alipay, WeChat, SEPA, Swift.\n\n<b><a href="https://t.me/+jsMGLg3oAV0yMDRi">–ü–æ–¥—Ä–æ–±–Ω–µ–µ —É–∑–Ω–∞–≤–∞–π—Ç–µ –≤ Telegram-–∫–∞–Ω–∞–ª–µ MoneyPort</a></b>',
    photoPath: './mp_photo_5.jpg',
  },
];

function* getNextElement(list) {
  let index = 0;
  const length = list.length;

  while (true) {
    yield list[index];

    index = (index + 1) % length;
  }
}

const getNext = getNextElement(postList);

const postNews = async () => {
  try {
    const message = getNext.next().value;
    await bot.sendPhoto(process.env.GROUP_ID, message.photoPath, {
      caption: message.text,
      parse_mode: 'HTML',
      disable_web_page_preview: true,
    });
  } catch (e) {
    console.log(e);
  }
};

cron.schedule('0 15 * * *', () => {
  console.log('POST');
  postNews();
});

bot.on('channel_post', async (msg) => {
  try {
    await bot.forwardMessage(
      process.env.GROUP_ID,
      process.env.CHANNEL_NAME,
      msg.message_id,
      { disable_web_page_preview: true }
    );
  } catch (e) {
    console.log(e);
  }
});

console.log('Server started');
